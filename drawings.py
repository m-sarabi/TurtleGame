import turtle

apple_points = [
    [[-2.44, 48.67], [-0.01, 47.89], [2.44, 47.11], [4.87, 46.33], [4.12, 44.54], [2.57, 42.52], [1.05, 40.49],
     [-0.37, 38.41], [-1.59, 36.27], [-2.58, 34.02], [-3.2, 31.63], [-3.43, 29.07], [-3.15, 26.32], [-3.68, 27.18],
     [-4.62, 29.54], [-5.4, 31.93], [-6.02, 34.32], [-6.42, 36.72], [-6.53, 39.11], [-6.26, 41.5], [-5.55, 43.89],
     [-4.3, 46.28]],
    [[-15.67, 33.52], [-17.89, 33.38], [-20.12, 33.1], [-22.37, 32.66], [-24.58, 32.05], [-26.72, 31.26],
     [-28.79, 30.27], [-30.75, 29.06], [-32.56, 27.63], [-34.23, 25.97], [-35.7, 24.04], [-36.97, 21.85],
     [-37.98, 19.38], [-38.75, 16.62], [-39.22, 13.54], [-39.37, 10.18], [-39.28, 7.62], [-39.04, 5.01], [-38.64, 2.36],
     [-38.11, -0.3], [-37.43, -2.95], [-36.62, -5.59], [-35.68, -8.18], [-34.62, -10.72], [-33.45, -13.18],
     [-32.17, -15.55], [-30.79, -17.81], [-29.31, -19.93], [-27.73, -21.91], [-26.08, -23.72], [-24.34, -25.35],
     [-22.54, -26.78], [-20.66, -27.98], [-18.72, -28.95], [-16.73, -29.66], [-14.68, -30.1], [-12.59, -30.24],
     [-10.11, -30.09], [-7.66, -29.66], [-5.26, -28.97], [-2.92, -28.01], [-0.62, -28.19], [1.73, -29.11],
     [4.14, -29.76], [6.59, -30.14], [9.03, -30.24], [11.1, -30.05], [13.14, -29.57], [15.12, -28.81], [17.06, -27.81],
     [18.92, -26.57], [20.72, -25.11], [22.44, -23.45], [24.09, -21.61], [25.64, -19.61], [27.12, -17.46],
     [28.48, -15.18], [29.75, -12.8], [30.91, -10.33], [31.94, -7.78], [32.85, -5.18], [33.64, -2.54], [34.31, 0.12],
     [34.81, 2.78], [35.19, 5.42], [35.41, 8.03], [35.47, 10.66], [35.31, 13.77], [34.88, 16.61], [34.22, 19.21],
     [33.32, 21.56], [32.2, 23.68], [30.88, 25.58], [29.37, 27.25], [27.67, 28.72], [25.81, 29.98], [23.78, 31.05],
     [21.62, 31.94], [19.34, 32.65], [16.94, 33.2], [14.42, 33.58], [11.82, 33.81], [9.14, 33.9], [6.88, 33.77],
     [4.5, 33.37], [1.97, 32.86], [-0.65, 32.36], [-3.25, 32.04], [-5.77, 32.03], [-8.25, 32.37], [-10.73, 32.87],
     [-13.2, 33.32]],
    [[-21.95, 27.53], [-23.06, 25.25], [-24.17, 22.98], [-25.28, 20.7], [-26.45, 18.51], [-27.92, 16.68],
     [-29.36, 14.83], [-30.73, 12.88], [-31.97, 10.77], [-33.0, 8.4], [-33.76, 5.7], [-34.03, 4.93], [-33.94, 7.41],
     [-33.75, 9.84], [-33.47, 12.37], [-33.05, 14.93], [-32.43, 17.44], [-31.53, 19.84], [-30.31, 22.04],
     [-28.59, 23.83], [-26.38, 25.06], [-24.17, 26.3]]]
apple_colors = ['#744402', '#4e9a06', '#a4db70']

small_grass_points = [
    [[345.01, 850.54], [340.17, 832.54], [348.84, 814.93], [358.32, 797.8], [368.61, 781.13], [379.69, 764.96],
     [391.53, 749.3], [404.1, 734.18], [417.39, 719.61], [431.36, 705.63], [445.99, 692.25], [461.27, 679.49],
     [477.15, 667.38], [493.63, 655.95], [510.68, 645.2], [528.26, 635.18], [546.37, 625.89], [564.97, 617.36],
     [584.03, 609.62], [603.55, 602.68], [623.48, 596.57], [643.81, 591.31], [664.51, 586.93], [685.56, 583.44],
     [706.93, 580.87], [728.6, 579.24], [750.55, 578.58], [763.03, 578.86], [741.18, 580.12], [719.61, 582.32],
     [698.36, 585.47], [677.45, 589.52], [656.9, 594.47], [636.75, 600.27], [617.01, 606.93], [597.71, 614.4],
     [578.87, 622.67], [560.52, 631.71], [542.68, 641.51], [525.38, 652.04], [508.64, 663.27], [492.49, 675.18],
     [476.95, 687.76], [462.04, 700.97], [447.79, 714.8], [434.22, 729.22], [421.36, 744.21], [409.24, 759.75],
     [397.87, 775.81], [387.29, 792.37], [377.51, 809.41], [368.56, 826.91], [360.47, 844.84]],
    [[332.38, 850.54], [340.11, 832.66], [348.69, 815.21], [358.09, 798.19], [368.29, 781.63], [379.27, 765.55],
     [390.99, 749.99], [403.44, 734.94], [416.59, 720.45], [430.42, 706.53], [444.91, 693.2], [460.03, 680.48],
     [475.76, 668.41], [492.07, 656.99], [508.94, 646.25], [526.34, 636.22], [544.27, 626.92], [562.68, 618.36],
     [581.55, 610.57], [600.87, 603.57], [620.6, 597.39], [640.73, 592.04], [661.23, 587.56], [682.08, 583.95],
     [703.25, 581.24], [724.72, 579.46], [746.46, 578.63], [767.29, 578.73], [745.56, 579.79], [724.12, 581.78],
     [702.98, 584.7], [682.17, 588.52], [661.72, 593.22], [641.64, 598.78], [621.96, 605.17], [602.71, 612.37],
     [583.91, 620.36], [565.58, 629.12], [547.75, 638.62], [530.44, 648.85], [513.68, 659.78], [497.48, 671.38],
     [481.87, 683.65], [466.88, 696.54], [452.54, 710.05], [438.85, 724.15], [425.85, 738.82], [413.57, 754.03],
     [402.02, 769.77], [391.23, 786.0], [381.22, 802.72], [372.02, 819.89], [363.65, 837.49], [352.58, 850.54]],
    [[332.38, 850.54], [340.11, 832.66], [348.69, 815.21], [358.09, 798.19], [368.29, 781.63], [379.27, 765.55],
     [390.99, 749.99], [403.44, 734.94], [416.59, 720.45], [430.42, 706.53], [444.91, 693.2], [460.03, 680.48],
     [475.76, 668.41], [492.07, 656.99], [508.94, 646.25], [526.34, 636.22], [544.27, 626.92], [562.68, 618.36],
     [581.55, 610.57], [600.87, 603.57], [620.6, 597.39], [640.73, 592.04], [661.23, 587.56], [682.08, 583.95],
     [703.25, 581.24], [724.72, 579.46], [746.46, 578.63], [767.29, 578.73], [745.56, 579.79], [724.12, 581.78],
     [702.98, 584.7], [682.17, 588.52], [661.72, 593.22], [641.64, 598.78], [621.96, 605.17], [602.71, 612.37],
     [583.91, 620.36], [565.58, 629.12], [547.75, 638.62], [530.44, 648.85], [513.68, 659.78], [497.48, 671.38],
     [481.87, 683.65], [466.88, 696.54], [452.54, 710.05], [438.85, 724.15], [425.85, 738.82], [413.57, 754.03],
     [402.02, 769.77], [391.23, 786.0], [381.22, 802.72], [372.02, 819.89], [363.65, 837.49], [352.58, 850.54]],
    [[332.38, 850.54], [340.11, 832.66], [348.69, 815.21], [358.09, 798.19], [368.29, 781.63], [379.27, 765.55],
     [390.99, 749.99], [403.44, 734.94], [416.59, 720.45], [430.42, 706.53], [444.91, 693.2], [460.03, 680.48],
     [475.76, 668.41], [492.07, 656.99], [508.94, 646.25], [526.34, 636.22], [544.27, 626.92], [562.68, 618.36],
     [581.55, 610.57], [600.87, 603.57], [620.6, 597.39], [640.73, 592.04], [661.23, 587.56], [682.08, 583.95],
     [703.25, 581.24], [724.72, 579.46], [746.46, 578.63], [767.29, 578.73], [745.56, 579.79], [724.12, 581.78],
     [702.98, 584.7], [682.17, 588.52], [661.72, 593.22], [641.64, 598.78], [621.96, 605.17], [602.71, 612.37],
     [583.91, 620.36], [565.58, 629.12], [547.75, 638.62], [530.44, 648.85], [513.68, 659.78], [497.48, 671.38],
     [481.87, 683.65], [466.88, 696.54], [452.54, 710.05], [438.85, 724.15], [425.85, 738.82], [413.57, 754.03],
     [402.02, 769.77], [391.23, 786.0], [381.22, 802.72], [372.02, 819.89], [363.65, 837.49], [352.58, 850.54]],
    [[738.01, 1015.78], [740.55, 995.52], [747.75, 976.26], [756.59, 957.96], [767.0, 940.72], [778.92, 924.66],
     [792.26, 909.88], [806.97, 896.48], [822.96, 884.58], [840.18, 874.28], [858.54, 865.69], [877.97, 858.92],
     [898.41, 854.07], [919.79, 851.25], [941.65, 850.57], [945.95, 851.9], [924.89, 855.27], [904.56, 860.56],
     [885.07, 867.67], [866.52, 876.5], [849.02, 886.94], [832.67, 898.91], [817.58, 912.29], [803.84, 926.98],
     [791.57, 942.89], [780.86, 959.91], [771.82, 977.95], [764.56, 996.89], [758.49, 1015.78]],
    [[337.27, 850.54], [340.59, 831.63], [349.17, 814.3], [358.55, 797.41], [368.72, 780.98], [379.65, 765.02],
     [391.32, 749.56], [403.72, 734.62], [416.8, 720.23], [430.56, 706.4], [444.96, 693.15], [459.98, 680.52],
     [475.61, 668.51], [491.81, 657.16], [508.57, 646.48], [525.86, 636.49], [543.66, 627.22], [561.93, 618.68],
     [580.68, 610.91], [599.85, 603.92], [619.44, 597.73], [639.43, 592.36], [659.78, 587.84], [680.47, 584.19],
     [701.49, 581.43], [722.8, 579.58], [744.39, 578.67], [765.26, 578.69], [747.85, 579.63], [726.49, 581.51],
     [705.42, 584.31], [684.68, 588.01], [664.29, 592.58], [644.27, 597.99], [624.64, 604.24], [605.43, 611.29],
     [586.66, 619.13], [568.36, 627.73], [550.54, 637.07], [533.23, 647.13], [516.46, 657.88], [500.25, 669.32],
     [484.62, 681.4], [469.6, 694.12], [455.21, 707.45], [441.46, 721.36], [428.4, 735.84], [416.03, 750.86],
     [404.39, 766.41], [393.49, 782.46], [383.36, 798.98], [374.03, 815.97], [365.52, 833.38], [357.36, 850.54]],
    [[732.38, 1015.78], [731.3, 997.61], [738.38, 978.9], [747.19, 961.06], [757.63, 944.21], [769.6, 928.42],
     [783.0, 913.81], [797.74, 900.47], [813.7, 888.49], [830.8, 877.97], [848.92, 869.01], [867.98, 861.7],
     [887.87, 856.14], [908.5, 852.44], [929.75, 850.68], [950.54, 850.9], [936.94, 853.09], [916.39, 857.23],
     [896.61, 863.21], [877.68, 870.93], [859.72, 880.3], [842.82, 891.21], [827.09, 903.57], [812.62, 917.28],
     [799.51, 932.24], [787.87, 948.36], [777.8, 965.54], [769.4, 983.67], [762.76, 1002.66], [752.64, 1015.78]]]
small_grass_colors = ['#529c54', '#63b70a', '#529c54', '#529c54', '#529c54', '#63b70a', '#63b70a']
small_grass_matrix = ((0.688289, 0, 0, 1, 103.606, 0), (-0.484526, 0, 0, 0.89069, 512.807, 92.9722),
                      (-0.378666, 0, 0, 0.89069, 477.622, 92.9722), (0.312444, 0, 0, 0.89069, 240.199, 92.9722),
                      (1, 0, 0, 1, -393.962, -165.248), (0.865196, 0, 0, 0.89069, 55.0268, 93.1875),
                      (-0.637659, 0, 0, 1.64583, 829.508, -821.273))


def enhance_points(pts, scale=False, flip=False, matrix=None):
    if matrix is not None:
        for pa in range(len(pts)):
            for p in range(len(pts[pa])):
                pts[pa][p][0] = matrix[pa][0] * pts[pa][p][0] + matrix[pa][2] * pts[pa][p][1] + matrix[pa][4]
                pts[pa][p][1] = matrix[pa][0] * pts[pa][p][1] + matrix[pa][3] * pts[pa][p][1] + matrix[pa][5]

    if flip:
        for pth in range(len(pts)):
            for point in range(len(pts[pth])):
                pts[pth][point][1] = pts[pth][point][1] * -14

    if scale is True:
        all_points = []
        for p in pts:
            all_points += p
        min_x = min(all_points[_][0] for _ in range(len(pts)))
        min_y = min(all_points[_][1] for _ in range(len(pts)))
        max_x = max(all_points[_][0] for _ in range(len(pts)))
        max_y = max(all_points[_][1] for _ in range(len(pts)))

        for pth in range(len(pts)):
            for point in range(len(pts[pth])):
                pts[pth][point][0] = round(pts[pth][point][0] - (max_x + min_x) / 2, 2)
                pts[pth][point][1] = round(pts[pth][point][1] - (max_y + min_y) / 2 * 1.75, 2)

    return pts


shape_points = small_grass_points
shape_colors = small_grass_colors

small_grass_points = enhance_points(small_grass_points, False, True, matrix=small_grass_matrix)

screen = turtle.Screen()
screen.tracer(0, 0)

apple_shape = turtle.Shape('compound')
for i, path in enumerate(shape_points):
    points = path + [path[0]]
    apple_shape.addcomponent(points, shape_colors[i])
screen.register_shape('apple', apple_shape)

apple = turtle.Turtle()
apple.penup()
apple.shape('apple')
apple.left(90)
apple.shapesize(0.1, 0.1)
# apple.goto(0, 0)
screen.update()
print('done')
turtle.done()
